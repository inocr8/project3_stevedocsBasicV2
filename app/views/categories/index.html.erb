<h1>List of all categories</h1>

<% if can? :create, Category %>
  <%= link_to 'New category', new_category_path %>
<% end %>

<% @categories.each do |category| %>

  <h2><%= link_to category.name, category_path(category) %> - (colour: <%= category.colour %>)</h2>

  <%= link_to image_tag(category.category_image.thumb.url), category.category_image.medium.url %>

  <% if category.documents.empty? == false %>
    <h3>List of documents for this Category:</h3>
      <ul>
        <% category.documents.each do |document| %>
          <li><%= link_to document.name, document_path(document) %></li>
        <% end %>
      </ul>
  <% else %>
    <h4>New documents for <%= category.name %> to be added soon!</h4>
  <% end %>

  <%= link_to('Show', category_path(category)) %> <% if can? :update, category %><%= link_to('Edit', edit_category_path(category), method: :get) %><% end %> <% if can? :destroy, category %><%= link_to('Delete', category_path(category), method: :delete, data: {confirm: 'Delete this category? Are you sure?!'}) %><% end %>
  <br /><br />

<% end %>